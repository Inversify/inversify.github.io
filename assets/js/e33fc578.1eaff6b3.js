"use strict";(self.webpackChunk_inversifyjs_inversify_docs_site=self.webpackChunk_inversifyjs_inversify_docs_site||[]).push([["9368"],{846:function(n,e,i){i.r(e),i.d(e,{default:()=>u,frontMatter:()=>d,metadata:()=>o,assets:()=>l,toc:()=>c,contentTitle:()=>s});var o=JSON.parse('{"id":"api/container-module","title":"Container Module","description":"Container modules help manage the complexity of bindings in large applications.","source":"@site/docs/api/container-module.mdx","sourceDirName":"api","slug":"/api/container-module","permalink":"/docs/next/api/container-module","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Container Module"},"sidebar":"tutorialSidebar","previous":{"title":"Container","permalink":"/docs/next/api/container"},"next":{"title":"Decorator","permalink":"/docs/next/api/decorator"}}'),a=i("1514"),t=i("8456"),r=i("9471");let d={sidebar_position:3,title:"Container Module"},s="ContainerModule",l={},c=[{value:"Constructor",id:"constructor",level:2},{value:"Methods",id:"methods",level:3},{value:"load",id:"load",level:4},{value:"ContainerModuleLoadOptions",id:"containermoduleloadoptions",level:2},{value:"bind",id:"bind",level:3},{value:"isBound",id:"isbound",level:3},{value:"onActivation",id:"onactivation",level:3},{value:"onDeactivation",id:"ondeactivation",level:3},{value:"unbind",id:"unbind",level:3},{value:"Example: binding services through ContainerModule API",id:"example-binding-services-through-containermodule-api",level:2}];function h(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,t.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"containermodule",children:"ContainerModule"})}),"\n",(0,a.jsx)(e.p,{children:"Container modules help manage the complexity of bindings in large applications."}),"\n",(0,a.jsx)(e.h2,{id:"constructor",children:"Constructor"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"constructor(load: (options: ContainerModuleLoadOptions) => void | Promise<void>)\n"})}),"\n",(0,a.jsxs)(e.p,{children:["The constructor argument for ",(0,a.jsx)(e.code,{children:"ContainerModule"})," is a load callback with function parameters to manage bindings within the scope of the container module."]}),"\n",(0,a.jsx)(e.h3,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(e.h4,{id:"load",children:"load"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"load(options: ContainerModuleLoadOptions): Promise<void>\n"})}),"\n",(0,a.jsx)(e.p,{children:"Loads the container module with the provided options."}),"\n",(0,a.jsx)(e.h2,{id:"containermoduleloadoptions",children:"ContainerModuleLoadOptions"}),"\n",(0,a.jsx)(e.p,{children:"Options to be passed to the load callback. It contains the following properties:"}),"\n",(0,a.jsx)(e.h3,{id:"bind",children:"bind"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"bind: <T>(serviceIdentifier: ServiceIdentifier<T>) => BindToFluentSyntax<T>\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Refer to the ",(0,a.jsx)(e.a,{href:"/docs/next/api/container#bind",children:"docs"})," for more information."]}),"\n",(0,a.jsx)(e.h3,{id:"isbound",children:"isBound"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"isBound: (serviceIdentifier: ServiceIdentifier, options?: IsBoundOptions) => boolean\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Refer to the ",(0,a.jsx)(e.a,{href:"/docs/next/api/container#isbound",children:"docs"})," for more information."]}),"\n",(0,a.jsx)(e.h3,{id:"onactivation",children:"onActivation"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"onActivation: <T>(serviceIdentifier: ServiceIdentifier<T>, activation: BindingActivation<T>) => void\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Refer to the ",(0,a.jsx)(e.a,{href:"/docs/next/api/container#onactivation",children:"docs"})," for more information."]}),"\n",(0,a.jsx)(e.h3,{id:"ondeactivation",children:"onDeactivation"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"onDeactivation: <T>(serviceIdentifier: ServiceIdentifier<T>, deactivation: BindingDeactivation<T>) => void\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Refer to the ",(0,a.jsx)(e.a,{href:"/docs/next/api/container#ondeactivation",children:"docs"})," for more information."]}),"\n",(0,a.jsx)(e.h3,{id:"unbind",children:"unbind"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"unbind: (serviceIdentifier: ServiceIdentifier) => Promise<void>\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Refer to the ",(0,a.jsx)(e.a,{href:"/docs/next/api/container#unbind",children:"docs"})," for more information."]}),"\n",(0,a.jsx)(e.h2,{id:"example-binding-services-through-containermodule-api",children:"Example: binding services through ContainerModule API"}),"\n",(0,a.jsx)(e.p,{children:"When a container module is loaded into a Container, the load callback is invoked. This is the opportunity for the container module to register bindings and handlers."}),"\n",(0,a.jsxs)(e.p,{children:["When a container module is unloaded from a Container, the bindings added by that container will be removed, and the ",(0,a.jsx)(e.a,{href:"/docs/next/fundamentals/lifecycle/deactivation",children:"deactivation process"})," will occur for each of them. Container deactivation and ",(0,a.jsx)(e.a,{href:"/docs/next/fundamentals/lifecycle/activation",children:"activation handlers"})," will also be removed."]}),"\n",(0,a.jsx)(r.Z,{language:"ts",children:"import {\n  Container,\n  ContainerModule,\n  ContainerModuleLoadOptions,\n  inject,\n  injectable,\n  named,\n} from 'inversify';\n\ninterface Weapon {\n  damage: number;\n}\n\n@injectable()\nexport class Katana implements Weapon {\n  public readonly damage: number = 10;\n}\n\n@injectable()\nexport class Shuriken implements Weapon {\n  public readonly damage: number = 5;\n}\n\n@injectable()\nexport class Ninja {\n  @inject('Weapon')\n  @named('Ranged')\n  public readonly weapon!: Weapon;\n}\n\nconst container: Container = new Container();\n\nconst scriptExecution: Promise<void> = (async () => {\n  // Begin-example\n  const warriorsModule: ContainerModule = new ContainerModule(\n    (options: ContainerModuleLoadOptions) => {\n      options.bind<Ninja>('Ninja').to(Ninja);\n    },\n  );\n\n  const weaponsModule: ContainerModule = new ContainerModule(\n    (options: ContainerModuleLoadOptions) => {\n      options.bind<Katana>('Weapon').to(Katana).whenNamed('Melee');\n      options.bind<Shuriken>('Weapon').to(Shuriken).whenNamed('Ranged');\n    },\n  );\n\n  await container.load(warriorsModule, weaponsModule);\n\n  const ninja: Ninja = container.get('Ninja');\n  // End-example\n})();\n\nconst ninjaPromise: Promise<Ninja> = scriptExecution.then(() =>\n  container.get('Ninja'),\n);\n\nexport { ninjaPromise };\n"})]})}function u(n={}){let{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}}}]);